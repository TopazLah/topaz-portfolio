/* ==========================================================================
   Topaz Tokens v1
   Purpose: design-system variables only (no element styling)
   Load order: tokens.css BEFORE style.css
   Layers: tokens
   ========================================================================== */
@layer tokens {

  /* -------------------------------------------------------
     00. Core Palettes (HSL) – Neutral, Brand, Accents, Status
     ------------------------------------------------------- */
  :root {
    /* Neutral (Gray) — fine-grained scale */
    --gray-50:  hsl(210 20% 98%);
    --gray-100: hsl(210 18% 97%);
    --gray-150: hsl(210 16% 94%);
    --gray-200: hsl(220 16% 90%);
    --gray-300: hsl(220 14% 85%);
    --gray-400: hsl(220 12% 72%);
    --gray-500: hsl(220 10% 58%);
    --gray-600: hsl(220 10% 45%);
    --gray-700: hsl(220 11% 35%);
    --gray-800: hsl(220 12% 24%);
    --gray-900: hsl(224 14% 15%);
    --gray-950: hsl(230 18% 9%);

    /* Brand (Blue → Cyan) */
    --brand-50:  hsl(206 100% 97%);
    --brand-100: hsl(206 95% 93%);
    --brand-200: hsl(206 92% 86%);
    --brand-300: hsl(206 89% 75%);
    --brand-400: hsl(206 86% 66%);
    --brand-500: hsl(211 90% 56%); /* base */
    --brand-600: hsl(214 86% 51%);
    --brand-700: hsl(217 79% 48%);
    --brand-800: hsl(221 71% 40%);
    --brand-900: hsl(224 64% 33%);
    /* Cyan companion */
    --brand2-400: hsl(190 91% 60%);
    --brand2-500: hsl(190 91% 50%);
    --brand2-600: hsl(190 88% 45%);

    /* Accent: Violet (alt theme) */
    --violet-400: hsl(268 83% 67%);
    --violet-500: hsl(262 83% 58%);
    --violet-600: hsl(258 75% 52%);

    /* Status */
    --success-100: hsl(152 81% 96%);
    --success-500: hsl(160 84% 39%);
    --success-600: hsl(160 86% 32%);

    --warning-100: hsl(48 100% 96%);
    --warning-500: hsl(38 92% 50%);
    --warning-600: hsl(32 94% 44%);

    --danger-100:  hsl(0 86% 97%);
    --danger-500:  hsl(0 84% 60%);
    --danger-600:  hsl(0 72% 50%);
  }

  /* -------------------------------------------------------
     01. Semantic Roles (light default)
     ------------------------------------------------------- */
  :root {
    /* surfaces & text */
    --bg:           var(--gray-50);
    --surface:      #ffffff;
    --surface-2:    var(--gray-100);
    --surface-3:    var(--gray-150);

    --text:         hsl(220 24% 12%);
    --text-muted:   hsl(220 12% 40%);
    --text-on-dark: hsl(0 0% 98%);

    /* brand roles */
    --brand:        var(--brand-500);
    --brand-strong: var(--brand-600);
    --brand-weak:   var(--brand-100);
    --brand-ink:    hsl(221 83% 16%); /* on-brand text */

    /* borders & outlines */
    --border:       hsl(220 14% 88%);
    --border-strong:hsl(220 12% 80%);
    --ring:         color-mix(in oklab, var(--brand) 55%, white 45%);
    --ring-alpha:   0.35; /* animatable */

    /* overlay/scrim */
    --scrim:        hsla(220, 24%, 12%, 0.5);
    --scrim-strong: hsla(220, 24%, 12%, 0.72);

    /* selection */
    --selection-bg: color-mix(in oklab, var(--brand) 18%, white 82%);
    --selection-fg: var(--text);

    /* gradients (tokens) */
    --grad-brand: linear-gradient(90deg, var(--brand) 0%, var(--brand2-500) 100%);
    --grad-brand-soft: linear-gradient(180deg, color-mix(in oklab, var(--brand) 18%, white 82%), transparent 70%);
    --grad-surface: linear-gradient(180deg, rgba(255,255,255,1), rgba(255,255,255,0.85));

    /* glassmorphism */
    --glass-bg:    rgba(255,255,255,0.75);
    --glass-blur:  14px;
    --glass-sat:   130%;
    --glass-border: linear-gradient(120deg, color-mix(in oklab, var(--brand) 80%, white 20%), color-mix(in oklab, var(--brand2-500) 80%, white 20%));
    --glass-radius: 18px;
    --glass-shadow: 0 18px 40px rgba(17,24,39,0.12), 0 2px 6px rgba(17,24,39,0.06);

    /* shadows (elevations) */
    --shadow-1: 0 1px 2px rgba(0,0,0,0.06);
    --shadow-2: 0 8px 20px rgba(0,0,0,0.10);
    --shadow-3: 0 18px 40px rgba(0,0,0,0.12);
    --shadow-4: 0 28px 60px rgba(0,0,0,0.16);
    --shadow-inner: inset 0 0 0 1px color-mix(in oklab, var(--brand) 20%, transparent);

    /* radii */
    --radius-xs: 6px;
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 18px;
    --radius-xl: 24px;
    --radius-2xl: 32px;
    --radius-pill: 999px;

    /* spacing scale */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 24px;
    --space-6: 32px;
    --space-7: 48px;
    --space-8: 64px;
    --space-9: 96px;

    /* typography */
    --font-body: Arial, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;

    --fs-xs: clamp(0.78rem, 0.74rem + 0.4vw, 0.86rem);
    --fs-sm: clamp(0.9rem,  0.86rem + 0.4vw, 1rem);
    --fs-md: clamp(1rem,    0.96rem + 0.5vw, 1.12rem);
    --fs-lg: clamp(1.18rem, 1.08rem + 0.8vw, 1.35rem);
    --fs-xl: clamp(1.45rem, 1.2rem  + 1.3vw, 1.9rem);
    --fs-2xl: clamp(1.8rem, 1.4rem  + 2vw,   2.6rem);

    --lh-tight: 1.2;
    --lh-base:  1.5;
    --lh-loose: 1.7;

    --fw-regular: 400;
    --fw-medium:  500;
    --fw-semibold:600;
    --fw-bold:    700;
    --fw-black:   900;

    /* layout / containers */
    --container-w: min(1100px, 94vw);
    --container-narrow: min(760px, 92vw);

    /* icon sizes */
    --icon-1: 16px;
    --icon-2: 18px;
    --icon-3: 22px;
    --icon-4: 28px;

    /* borders */
    --border-1: 1px solid var(--border);
    --border-strong-1: 1px solid var(--border-strong);
    --border-2: 2px solid var(--border);

    /* motion */
    --ease-std: cubic-bezier(.2,.7,.3,1);
    --ease-out: cubic-bezier(.2,.8,.2,1);
    --ease-in:  cubic-bezier(.5,.1,.9,.3);
    --dur-1: 120ms;
    --dur-2: 200ms;
    --dur-3: 320ms;

    /* z-index layers */
    --z-base: 0;
    --z-header: 1000;
    --z-dropdown: 1200;
    --z-modal: 1400;
    --z-toast: 1500;
    --z-tooltip: 1600;
  }

  /* -------------------------------------------------------
     02. Dark Mode (auto)
     ------------------------------------------------------- */
  @media (prefers-color-scheme: dark) {
    :root {
      --bg:         var(--gray-950);
      --surface:    hsl(230 12% 11%);
      --surface-2:  hsl(230 12% 9%);
      --surface-3:  hsl(230 12% 8%);

      --text:       hsl(210 20% 96%);
      --text-muted: hsl(220 12% 70%);
      --text-on-dark: hsl(0 0% 98%);

      --border:       hsl(230 12% 22%);
      --border-strong:hsl(230 12% 28%);

      --scrim:        hsla(0, 0%, 0%, 0.6);
      --scrim-strong: hsla(0, 0%, 0%, 0.8);

      --selection-bg: color-mix(in oklab, var(--brand) 26%, black 74%);
      --selection-fg: var(--text);

      --glass-bg:    rgba(18,18,20,0.60);
      --glass-shadow: 0 18px 40px rgba(0,0,0,0.45), 0 1px 2px rgba(0,0,0,0.6);

      /* adjust brand “ink” for dark */
      --brand-ink:   hsl(211 90% 92%);
    }
  }

  /* -------------------------------------------------------
     03. Theme switches (manual)
     Usage: <html data-theme="dark"> or data-accent="violet"
     ------------------------------------------------------- */
  :root[data-theme="dark"] {
    /* same as media dark — kept for manual toggling */
    --bg:         var(--gray-950);
    --surface:    hsl(230 12% 11%);
    --surface-2:  hsl(230 12% 9%);
    --surface-3:  hsl(230 12% 8%);
    --text:       hsl(210 20% 96%);
    --text-muted: hsl(220 12% 70%);
    --border:     hsl(230 12% 22%);
    --border-strong:hsl(230 12% 28%);
    --glass-bg:   rgba(18,18,20,0.60);
    --glass-shadow: 0 18px 40px rgba(0,0,0,0.45), 0 1px 2px rgba(0,0,0,0.6);
    --brand-ink:  hsl(211 90% 92%);
  }

  /* Accent variants */
  :root[data-accent="ocean"] {
    --brand: var(--brand-500);
    --brand-strong: var(--brand-600);
    --brand-weak: var(--brand-100);
    --grad-brand: linear-gradient(90deg, var(--brand-500), var(--brand2-500));
  }
  :root[data-accent="violet"] {
    --brand: var(--violet-500);
    --brand-strong: var(--violet-600);
    --brand-weak: color-mix(in oklab, var(--violet-500) 12%, white 88%);
    --grad-brand: linear-gradient(90deg, var(--violet-500), var(--violet-600));
  }

  /* -------------------------------------------------------
     04. “Designer Tokens” for special effects
     ------------------------------------------------------- */
  :root {
    /* radial highlights for headers/hero */
    --halo-top: radial-gradient(600px 180px at 50% -30px,
                    color-mix(in oklab, var(--brand) 18%, transparent), transparent 60%);
    --halo-side: radial-gradient(700px 200px at 15% -40px,
                    color-mix(in oklab, var(--brand2-500) 14%, transparent), transparent 60%);

    /* gradient borders */
    --grad-border: linear-gradient(120deg,
                        color-mix(in oklab, var(--brand) 80%, white 20%),
                        color-mix(in oklab, var(--brand2-500) 80%, white 20%));

    /* backdrops */
    --backdrop-blur: blur(var(--glass-blur)) saturate(var(--glass-sat));

    /* interactive */
    --hover-elev: 0 10px 22px rgba(59,130,246,0.16);
    --active-elev: 0 6px 14px rgba(59,130,246,0.14);

    /* ring system */
    --ring-color: color-mix(in oklab, var(--brand) 55%, white 45%);
    --ring-width: 2px;
    --ring-offset: 3px;

    /* control sizes */
    --control-h-sm: 34px;
    --control-h-md: 40px;
    --control-h-lg: 48px;

    /* progress / skeleton */
    --skeleton: linear-gradient(90deg,
                    color-mix(in oklab, var(--surface-2) 55%, white 45%),
                    color-mix(in oklab, var(--surface-3) 55%, white 45%),
                    color-mix(in oklab, var(--surface-2) 55%, white 45%));
  }

  /* -------------------------------------------------------
     05. Animatable Custom Properties
     ------------------------------------------------------- */
  @property --ring-alpha {
    syntax: "<number>";
    inherits: true;
    initial-value: 0.35;
  }
  @property --elev-y {
    syntax: "<number>";
    inherits: false;
    initial-value: 0; /* used for translateY with calc if desired */
  }

  /* -------------------------------------------------------
     06. Helper alias (optional semantic refs)
     ------------------------------------------------------- */
  :root {
    --text-primary: var(--text);
    --text-secondary: var(--text-muted);
    --surface-card: var(--surface);
    --surface-muted: var(--surface-2);
    --link: var(--brand);
    --link-hover: color-mix(in oklab, var(--brand) 70%, var(--brand2-500) 30%);
    --success: var(--success-500);
    --warning: var(--warning-500);
    --danger:  var(--danger-500);
  }
}